<div class="card fade-in" style="max-width: 800px;">
    <!-- Header de la página -->
    <div style="text-align: center; margin-bottom: 2rem; padding-bottom: 2rem; border-bottom: 1px solid var(--gris-borde);">
        <div style="display: inline-flex; align-items: center; justify-content: center; width: 80px; height: 80px; background: var(--verde-produbanco); border-radius: 50%; margin-bottom: 1rem;">
            <svg style="width: 40px; height: 40px; fill: white;" viewBox="0 0 24 24">
                <path d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z" />
            </svg>
        </div>
        <h1 style="color: var(--negro-texto); font-size: 1.75rem; font-weight: 600; margin-bottom: 0.5rem;">{{vm.welcomeMessage}}</h1>
        <p style="color: var(--gris-texto); font-size: 1rem;">Panel de Usuario - Produbanco en línea</p>
    </div>
    
    <!-- Información del usuario -->
    <div style="background: var(--gris-claro); border: 1px solid var(--gris-borde); border-radius: 8px; padding: 2rem; margin-bottom: 2rem;">
        <h3 style="color: var(--negro-texto); margin-bottom: 1.5rem; font-size: 1.125rem; font-weight: 600;">Información de la Sesión</h3>
        <div ng-if="vm.userInfo">
            <div class="info-row">
                <span class="info-label">Usuario:</span>
                <span class="info-value">{{vm.userInfo.username}}</span>
            </div>
            <div class="info-row">
                <span class="info-label">Email:</span>
                <span class="info-value">{{vm.userInfo.email}}</span>
            </div>
            <div class="info-row">
                <span class="info-label">Rol:</span>
                <span class="info-value">Usuario</span>
            </div>
            <div class="info-row">
                <span class="info-label">Estado:</span>
                <span style="color: var(--verde-produbanco); font-weight: 600; display: flex; align-items: center; gap: 0.5rem;">
                    <span style="width: 8px; height: 8px; background: var(--verde-produbanco); border-radius: 50%; display: inline-block;"></span>
                    Activo
                </span>
            </div>
        </div>
    </div>

    <!-- Servicios bancarios disponibles -->
    <div style="margin-top: 2rem;">
        <h3 style="color: var(--negro-texto); margin-bottom: 1.5rem; font-size: 1.125rem; font-weight: 600;">Servicios Bancarios</h3>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
            <!-- Botón para crear cuenta de ahorros -->
            <a href="#/create-savings" style="text-decoration: none; color: inherit;">
                <div style="background: var(--blanco); border: 2px solid var(--verde-produbanco); border-radius: 8px; padding: 1.5rem; text-align: center; transition: all 0.2s ease; cursor: pointer; position: relative; overflow: hidden;" onmouseover="this.style.backgroundColor='var(--verde-claro)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.backgroundColor='var(--blanco)'; this.style.transform='translateY(0px)'">
                    <div style="display: inline-flex; align-items: center; justify-content: center; width: 48px; height: 48px; background: var(--verde-produbanco); border-radius: 8px; margin-bottom: 1rem;">
                        <svg style="width: 24px; height: 24px; fill: var(--blanco);" viewBox="0 0 24 24">
                            <path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" />
                        </svg>
                    </div>
                    <h4 style="color: var(--verde-produbanco); font-weight: 600; margin-bottom: 0.5rem; font-size: 0.875rem;">Crear Cuenta de Ahorros</h4>
                    <p style="color: var(--gris-texto); font-size: 0.75rem; margin: 0;">Abre una nueva cuenta de ahorros</p>
                    <div style="position: absolute; top: 8px; right: 8px; background: var(--verde-produbanco); color: var(--blanco); border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold;">!</div>
                </div>
            </a>
            
            <a href="#/savings-accounts" style="text-decoration: none; color: inherit;">
                <div style="background: var(--blanco); border: 1px solid var(--gris-borde); border-radius: 8px; padding: 1.5rem; text-align: center; transition: all 0.2s ease; cursor: pointer;" onmouseover="this.style.borderColor='var(--verde-produbanco)'" onmouseout="this.style.borderColor='var(--gris-borde)'">
                    <div style="display: inline-flex; align-items: center; justify-content: center; width: 48px; height: 48px; background: var(--verde-claro); border-radius: 8px; margin-bottom: 1rem;">
                        <svg style="width: 24px; height: 24px; fill: var(--verde-produbanco);" viewBox="0 0 24 24">
                            <path d="M11,8C11,9.66 9.66,11 8,11C6.34,11 5,9.66 5,8C5,6.34 6.34,5 8,5C9.66,5 11,6.34 11,8M14,20H2V18C2,15.79 4.69,14 8,14C11.31,14 14,15.79 14,18V20M22,12V14H13V12H22M22,8V10H13V8H22M22,4V6H13V4H22Z" />
                        </svg>
                    </div>
                    <h4 style="color: var(--negro-texto); font-weight: 600; margin-bottom: 0.5rem; font-size: 0.875rem;">Mis Cuentas</h4>
                    <p style="color: var(--gris-texto); font-size: 0.75rem; margin: 0;">Consulta tus cuentas y saldos</p>
                </div>
            </a>
            
            <div style="background: var(--blanco); border: 1px solid var(--gris-borde); border-radius: 8px; padding: 1.5rem; text-align: center; transition: all 0.2s ease; cursor: pointer;" onmouseover="this.style.borderColor='var(--verde-produbanco)'" onmouseout="this.style.borderColor='var(--gris-borde)'">
                <div style="display: inline-flex; align-items: center; justify-content: center; width: 48px; height: 48px; background: var(--verde-claro); border-radius: 8px; margin-bottom: 1rem;">
                    <svg style="width: 24px; height: 24px; fill: var(--verde-produbanco);" viewBox="0 0 24 24">
                        <path d="M3,6H21V18H3V6M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z" />
                    </svg>
                </div>
                <h4 style="color: var(--negro-texto); font-weight: 600; margin-bottom: 0.5rem; font-size: 0.875rem;">Transferencias</h4>
                <p style="color: var(--gris-texto); font-size: 0.75rem; margin: 0;">Envía dinero de forma segura</p>
            </div>
            
            <div style="background: var(--blanco); border: 1px solid var(--gris-borde); border-radius: 8px; padding: 1.5rem; text-align: center; transition: all 0.2s ease; cursor: pointer;" onmouseover="this.style.borderColor='var(--verde-produbanco)'" onmouseout="this.style.borderColor='var(--gris-borde)'">
                <div style="display: inline-flex; align-items: center; justify-content: center; width: 48px; height: 48px; background: var(--verde-claro); border-radius: 8px; margin-bottom: 1rem;">
                    <svg style="width: 24px; height: 24px; fill: var(--verde-produbanco);" viewBox="0 0 24 24">
                        <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z" />
                    </svg>
                </div>
                <h4 style="color: var(--negro-texto); font-weight: 600; margin-bottom: 0.5rem; font-size: 0.875rem;">Estados de Cuenta</h4>
                <p style="color: var(--gris-texto); font-size: 0.75rem; margin: 0;">Descarga tus estados</p>
            </div>
            
            <div style="background: var(--blanco); border: 1px solid var(--gris-borde); border-radius: 8px; padding: 1.5rem; text-align: center; transition: all 0.2s ease; cursor: pointer;" onmouseover="this.style.borderColor='var(--verde-produbanco)'" onmouseout="this.style.borderColor='var(--gris-borde)'">
                <div style="display: inline-flex; align-items: center; justify-content: center; width: 48px; height: 48px; background: var(--verde-claro); border-radius: 8px; margin-bottom: 1rem;">
                    <svg style="width: 24px; height: 24px; fill: var(--verde-produbanco);" viewBox="0 0 24 24">
                        <path d="M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M10,22C9.75,22 9.54,21.82 9.5,21.58L9.13,18.93C8.5,18.68 7.96,18.34 7.44,17.94L4.95,18.95C4.73,19.03 4.46,18.95 4.34,18.73L2.34,15.27C2.21,15.05 2.27,14.78 2.46,14.63L4.57,12.97L4.5,12L4.57,11L2.46,9.37C2.27,9.22 2.21,8.95 2.34,8.73L4.34,5.27C4.46,5.05 4.73,4.96 4.95,5.05L7.44,6.05C7.96,5.66 8.5,5.32 9.13,5.07L9.5,2.42C9.54,2.18 9.75,2 10,2H14C14.25,2 14.46,2.18 14.5,2.42L14.87,5.07C15.5,5.32 16.04,5.66 16.56,6.05L19.05,5.05C19.27,4.96 19.54,5.05 19.66,5.27L21.66,8.73C21.79,8.95 21.73,9.22 21.54,9.37L19.43,11L19.5,12L19.43,13L21.54,14.63C21.73,14.78 21.79,15.05 21.66,15.27L19.66,18.73C19.54,18.95 19.27,19.04 19.05,18.95L16.56,17.95C16.04,18.34 15.5,18.68 14.87,18.93L14.5,21.58C14.46,21.82 14.25,22 14,22H10M11.25,4L10.88,6.61C9.68,6.86 8.62,7.5 7.85,8.39L5.44,7.35L4.69,8.65L6.8,10.2C6.4,11.37 6.4,12.64 6.8,13.8L4.68,15.36L5.43,16.66L7.86,15.62C8.63,16.5 9.68,17.14 10.87,17.38L11.24,20H12.76L13.13,17.39C14.32,17.14 15.37,16.5 16.14,15.62L18.57,16.66L19.32,15.36L17.2,13.81C17.6,12.64 17.6,11.37 17.2,10.2L19.31,8.65L18.56,7.35L16.15,8.39C15.38,7.5 14.32,6.86 13.12,6.62L12.75,4H11.25Z" />
                    </svg>
                </div>
                <h4 style="color: var(--negro-texto); font-weight: 600; margin-bottom: 0.5rem; font-size: 0.875rem;">Configuración</h4>
                <p style="color: var(--gris-texto); font-size: 0.75rem; margin: 0;">Personaliza tu cuenta</p>
            </div>
        </div>
        
        <!-- Prueba de conexión -->
        <div style="margin-top: 2rem; padding: 1.5rem; background: var(--gris-claro); border: 1px solid var(--gris-borde); border-radius: 8px;">
            <h4 style="color: var(--negro-texto); margin-bottom: 1rem; font-size: 1rem; font-weight: 600;">Diagnóstico de Conexión</h4>
            <button 
                class="btn btn-secondary" 
                ng-click="vm.testUserAccess()"
                ng-disabled="vm.isTestingAccess"
                style="width: auto; margin-bottom: 1rem;">
                <span ng-if="!vm.isTestingAccess">Probar conexión al servidor</span>
                <span ng-if="vm.isTestingAccess">
                    <span class="spinner"></span>
                    Probando...
                </span>
            </button>
            
            <div ng-if="vm.testMessage" style="padding: 1rem; background-color: var(--verde-claro); border-radius: 4px; color: var(--verde-oscuro); border: 1px solid var(--verde-produbanco);">
                <strong>Resultado:</strong> {{vm.testMessage}}
            </div>
        </div>
    </div>

    <!-- Información adicional -->
    <div style="margin-top: 2rem; padding: 1.5rem; background: var(--verde-claro); border-radius: 8px; border: 1px solid var(--verde-produbanco); text-align: center;">
        <h4 style="color: var(--verde-oscuro); margin-bottom: 0.5rem; font-size: 1rem; font-weight: 600;">Panel de Usuario Activo</h4>
        <p style="margin: 0; color: var(--gris-texto); font-size: 0.875rem;">
            Accede a todos tus servicios bancarios de forma segura y conveniente.
        </p>
    </div>
</div>
